(async()=>{if(!(document.body.clientWidth<768)&&$id("rightmenu")){let o=$id("rightmenu");document.oncontextmenu=e=>{e=e||event;let n=e.clientX+10,t=e.clientY+10,i=(n>document.documentElement.clientWidth-o.offsetWidth&&(n=document.documentElement.clientWidth-o.offsetWidth),t>document.documentElement.clientHeight-o.offsetWidth&&(t=document.documentElement.clientHeight-350),o.style.left=n+"px",o.style.top=t+"px",o.style.display="block",event.target.href),l=event.target.currentSrc;var d=$id("nav-music").contains(event.target);if(i)$id("menu-link").style.display="block",$id("menu-img").style.display="none",$id("menu-music").style.display="none",$id("menu-other").style.display="none",$id("menu-newWindow").onclick=()=>{window.open(i)},$id("menu-copyLink").onclick=()=>{copyText(i)};else if(l){$id("menu-img").style.display="block",$id("menu-link").style.display="none",$id("menu-music").style.display="none",$id("menu-other").style.display="none";let e=!($id("menu-copyImg").onclick=()=>{copyText(l)});$id("menu-downImg").onclick=()=>{0==e?(e=!0,setTimeout(()=>{let i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=()=>{var e=document.createElement("canvas");e.width=i.width,e.height=i.height;e.getContext("2d").drawImage(i,0,0,i.width,i.height);var e=e.toDataURL("image/png"),n=document.createElement("a"),t=new MouseEvent("click");n.download="aloeJun",n.href=e,n.dispatchEvent(t)},i.src=l,downloadimging=!1},"10000")):console.log("有正在进行中的下载，请稍后再试")}}else d?(o.style.top=e.clientY-350+"px",$id("menu-music").style.display="block",$id("menu-link").style.display="none",$id("menu-img").style.display="none",$id("menu-other").style.display="none"):($id("menu-other").style.display="block",$id("menu-link").style.display="none",$id("menu-img").style.display="none",$id("menu-music").style.display="none");return document.body.addEventListener("mousewheel",()=>{o.style.display="none"},!1),document.body.addEventListener("click",()=>{o.style.display="none"},!1),!1}}})();